---
title : "[pandas] 데이터 추출하기"
categories:
   - python
tags:
   - Pandas
   - 판다스 시작하기
   - 공부
date: 2021-09-14T23:38:55+09:00 #작성일자
last_modified_at: 2021-09-14 #업데이트날짜.
#toc: true # 퀵메뉴 활성화
#toc_label: "안녕하세요" # 퀵메뉴 이름
#toc_sticky: true # 퀵메뉴 고정할것인지?
# other options
---

> # 📜 <u>Mac, VS Code에서 작성되었습니다.</u> 
> ## <u>📌 체크 사항</u> 
 * python 3.8.8 버전
 *  VS Code Extension 확인
	* Python, Pylance, Python Extension Pack, Python for VSCode
 	* 추가 포함 - Rainbow CSV, Visual Studio intelliCode
 *   pip 설치 확인
 	* pip(pip3) install pandas 설치. 
 * [pandas 실습자료 다운로드](https://github.com/easysIT/doit_pandas)
 
 
## ✅ <u>import</u>
	import pandas as ps

## 💡 <u>주요 내용</u> 
> 1. **read_csv** : csv파일을 데이터프레임 형식으로 불러옵니다.
>  * read_csv 메서드는 기본적으로 쉼표(,) 기준으로 열이 구분되어 있는 데이터를 불러옵니다.
> 그외 다른 구분으로 데이터를 불러오고 싶으면 sep 속성값으로 구분을 지정해주시면 됩니다.
> 그외에 기본적으로 첫행을 열이름으로 사용합니다.
> 2. **head()** : head() 메서드는 데이터프레임의 가장 앞에있는 5개의 행을 출력하므로 내가 불러온 데이터가 어떤 값을 가지고 있는지 알수 있습니다.
> 	* 반대 되는 값으로 tail() 메서드가 있습니다. 최하위 5개의 행을 출력합니다.
> 3. **type(데이터)** : type은 괄호() 안에 타입을 알고 싶은 데이터를 넣으면 어떤 타입인지 확인 가능합니다.
>   
> 4. **df['country']** : 데이터 프레임에서 열단위로 데이터 출력할때 사용합니다. 즉, 열이름이 country인 열을 추출합니다. 이때 1개의 열만 추출함으로 dataframe이 타입이 아니라 Series 타입으로 생성 됩니다. 즉, 시리즈를 얻을 수 있습니다.
>   
> 5. **df[['country', 'countinent', 'year']],df[[0,99,999]]** : 리스트에 열 이름을 전달하면 여러 개의 열을 추출할 수 있습니다. 다음은 열 이름이 country, countinent, year인 열을 추출한것 입니다. 이때 1개의 열이 아니라 2개이 상 추출했음으로 dataframe을 얻습니다. 그외에도 보시다 시피 인덱스를 통해서도 열 데이터를 추출할 수 있습니다.
>   
> 6. **loc** : 행 단위로 데이터를 추출할때 씁니다. loc 속성은 인덱스를 기준으로 행 데이터를 추출합니다. loc 속성으로 인덱스를 전달하면 행 데이터를 추출할 수 있습니다. 그리고 인덱스에 없는 번호를 전달하면 오류가 발생하니 주의가 필요합니다. list와 같은 인덱스 계열과 같습니다.
>   
> 7. **iloc** : 행 단위로 데이터를 추출할때 씁니다. loc 속성과 다른점은 행 번호를 기준으로 행 데이터를 추출 합니다. 자세하게 얘기하면 iloc 속성은 데이터의 순서를 의미하는 행 번호를 사용합니다. 행 번호는 데이터의 순서를 따라가기 때문에 정수만으로 데이터를 조회하거나 추출할 수 있습니다 하지만 데이터프레임에서는 확인이 불가능한 값 입니다. 인덱스와 행 번호를 직접 비교해보면 동일하지 않은 값이 나오는걸 볼 수 있습니다. loc과 다른점은 -1을 사용하면 마지막 행 데이터를 추출할 수 있습니다. 이런것을 보아 슬라이싱을 지원하는걸 유추할 수 있습니다.
>  
> 8. **range(start,end,step)** : 레인지 메서드는 지정한 구간의 정수 리스트를 반환해 줍니다.
>  
> 9. **슬라이싱** : loc과 iloc은 각각 슬라이싱을 지원 합니다. loc 같은 경우 슬라이싱을 행에서만 지원하고 iloc은 행,열 둘다 슬라이싱을 지원합니다.
> 

## ✏️ <u>기억하자. </u>
> ## ✅ 열 단위로 데이터 추출
> 데이터프레임에서 데이터를 열 단위로 추출하려면 대괄호와 열 이름을 사용해야 합니다.
>  열 이름은 꼭 '' 작은 따옴표를 사용해서 지정해야 하고 열은 변수에 저장해서 사용 가능합니다.
> 열 1개만 추출하면 시리즈(Series) 열 2개이상 추출하면 데이터프레임(dataframe)이 됩니다.
> ## ✅ 행 단위 데이터 추츨 loc? iloc?
> 
> | 속성  | 설명 |
> |:-------------|:---------------|
> | loc | 인덱스를 기준으로 행 데이터 추출 |
> | iloc | 행 번호를 기준으로 행 데이터 추출 |
>   
> 표에 설명을 보면 인덱스, 행 번호라는 것이 있습니다. 인덱스가 의미하는것은 자료형 데이터의 순서를 가르키면서 데이터가 추가, 삭제되면 언제나 변할 수 있고 숫자가 아닌 문자열로도 표현 가능합니다. 하지만 행 번호는 이 개념과 다르게 데이터의 순서를 따라갑니다. 때문에 정수만으로 데이터를 조회하거나 추출할 수 있으며, 실제 데이터프레임에서는 확일할 수 없는 값입니다.
>   
> **loc의 index 설명및 1,3열 데이터 프레임 추출값 예제**
> 
> | index  | country | year |
> |:-------------|:---------------|:---------------|
> | 0 | Afghanistan | 1952 |
> | 1 | Afghanistan | 1957 |
> 
> ## ✅ tail과 loc 속성의 자료형은 다릅니다.
>  tail 메서드와 loc속성이 반환하는 자료형은 서로 다릅니다. loc속성이 반환하는 데이터는 자료형은 시리즈(Series) 이고 tail 메서드는 (데이타프레임)DataFrame 입니다.
> 
> ## ✅ range? 슬라이싱 뭐가 더 좋을까?
> range와 슬라이싱 방식중 판다스에서 무엇이 더 유용할까? 그건 바로 슬라이싱이다.
> range 메서드가 반환한 제네레이터를 리스트로 변환하는 등을 거쳐서 변수에 저장하고 그때서야 쓸수 잇는 번거로움이 따른다. 하지만 슬라이싱은  이러한 과정없이 정수의 입력만으로 쉽고 빠르고 간결하게 상요할 수 있습니다. 코드의 간결함은 보는 사람도 분석이 편하고 좋은 코드가 됩니다.
> 
> ## ✅ 제네레이터?
> 제네레이터는 사실 파이썬 기초문법에서 배우는 용어다.
> 제네레이터에 대해 간단하게 말해보자면 배열, 리스트와 같은 반복가능한 연속적 값들을 생성하는 패턴이다.
> 가장 중요한 것은 모든 값을 포함하여 반환하는 대신 호출 할 때마다 한 개의 값을 리턴한다.
> 아주 작은 메모리로 효율적으로 대용량의 반복가능한 구조를 순회할 수 있다는게 큰 장점이다
> .
>{: rules="groups"}

## ❌ 실수 요인
없음.

## 💭 <u>오늘 나의 생각</u>
> loc과 iloc에 대해 배워보았다.
> 사실 한번 배웠지만 솔직히 뇌에서는 이해가 안되는데
> 불구하고 나는 사용을 한다는것이다. 근데 거의 Iloc을 쓰게 되더라.
> loc과 iloc 간단하게 생각하면 행과 열 공통점에 각각 인덱스, 행 번호로 순회한다는것이다.
> 최처음에는 뇌보다 몸이 움직였지만, 두번 보니 어느정도 뇌가 따라가는거 같다.
> 최종적으로 각각 장단점이 있는데 loc은 열의 이름값 즉 딕셔너리처럼 리스트로 뽑아서 원하는걸
> 가져오기 때문에 내가 원하는 열만 가져올 수 있다. 하지만 iloc은 슬라이싱으로 간단하지만 내가 원하는 값만 뽑아오려면 또다른 처리를 해줘야한다.
> 그외에 특별한 사항은 없지만 loc과 iloc을 쓸때 열의 순서도 바꿀수 있더라.

## <u>📖 <u>실습 Code</u>
<script src="https://gist.github.com/Cononi/d43f4c3eefebfd51859a8411017fd52b.js"></script>